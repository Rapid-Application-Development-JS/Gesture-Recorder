function GestureRecorder(t,n){function i(t,n){var i=n||{};return i.x=t.x,i.y=t.y,i}function r(t,n,i,r){return Math.pow((n-t)*(n-t)+(r-i)*(r-i),.5)}function o(t,n){if(s){var o=r(e.x,t,e.y,n);o>f&&(c[c.length]={x:t-e.x,y:n-e.y},e=i({x:t,y:n},e))}}var e,u=t,c=[],f=n||20,s=!1;this.getGestureString=function(){return c.length>0?JSON.stringify(c):void 0},this.startRecord=function(t,n){c=[],e=i({x:t,y:n},null),s=!0},this.addNewPoint=function(t,n){o(t,n)},this.cancel=function(){s=!1},this.stopRecord=function(t,n){o(t,n),s=!1},this.destroy=function(){u=null}}