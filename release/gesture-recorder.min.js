function GestureRecorder(t){function n(t,n){var i=n||{};return i.x=t.x,i.y=t.y,i}function i(t,n,i,r){return Math.pow((n-t)*(n-t)+(r-i)*(r-i),.5)}function r(t,r){if(c){var f=i(e.x,t,e.y,r);f>u&&(o[o.length]={x:t-e.x,y:r-e.y},e=n({x:t,y:r},e))}}var e,o=[],u=t||20,c=!1;this.getGestureString=function(){return o.length>0?JSON.stringify(o):void 0},this.getGestureArray=function(){return o.length>0?o:void 0},this.startRecord=function(t,i){o=[],e=n({x:t,y:i},null),c=!0},this.addNewPoint=function(t,n){r(t,n)},this.cancel=function(){c=!1},this.stopRecord=function(t,n){r(t,n),c=!1}}